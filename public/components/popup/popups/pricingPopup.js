import React from 'react'
import PopupInner from '../popupInner'
import { getService } from 'vc-cake'

const dataManager = getService('dataManager')

export default class PricingPopup extends React.Component {
  constructor (props) {
    super(props)

    this.handlePrimaryButtonClick = this.handlePrimaryButtonClick.bind(this)
    this.handleCloseClick = this.handleCloseClick.bind(this)
  }

  handlePrimaryButtonClick () {
    this.props.onPrimaryButtonClick(true)
  }

  handleCloseClick () {
    this.props.onClose(true)
  }

  render () {
    const localizations = dataManager.get('localizations')
    const headingText = localizations ? localizations.getVisualComposerPremium : 'Get Visual Composer Premium'
    const text = localizations ? localizations.getAllTheseAndManyMoreFeatures : 'Get all these and many more features with Visual Composer premium.'
    const buttonText = localizations ? localizations.goPremium : 'Go Premium'

    const customButtonProps = {
      target: '_blank',
      rel: 'noopener noreferrer',
      href: dataManager.get('utm')['vc-demo-popup-button'],
      className: 'vcv-layout-popup-btn vcv-pricing-popup-button'
    }

    const badge = (
      <svg width='66px' height='80px' viewBox='0 0 66 80' version='1.1' xmlns='http://www.w3.org/2000/svg'>
        <g stroke='none' strokeWidth='1' fill='none' fillRule='evenodd'>
          <g transform='translate(-1055.000000, -509.000000)' fill='#FFFFFF' fillRule='nonzero'>
            <g transform='translate(893.000000, 459.000000)'>
              <g transform='translate(162.000000, 50.000000)'>
                <path d='M30.1028816,0.758776404 C31.8466552,-0.225279389 33.9805296,-0.250622894 35.7417205,0.673720551 L35.9795013,0.805653026 L40.8848827,3.58668677 L46.5947575,3.61684406 C48.5837024,3.62449432 50.4464943,4.64176353 51.5128039,6.28764904 L51.6418957,6.49663122 L54.5279504,11.4061761 L59.4650779,14.2751816 C61.3103373,15.3462141 62.4289744,17.3608045 62.3757063,19.47299 L62.3643339,19.7170887 L62.3924652,24.9710205 L65.236873,29.9300984 C66.22864,31.6674372 66.2522104,33.7943931 65.3164369,35.5476968 L65.1889397,35.7742069 L62.3923081,40.6501569 L62.3619765,46.3272283 C62.3541312,48.3047468 61.3309779,50.1566929 59.675721,51.216865 L59.4655494,51.3452145 L54.5276361,54.2146888 L51.6420529,59.1236087 C50.5649831,60.958568 48.537446,62.0700652 46.4140816,62.0174684 L46.1687014,62.0062084 L45.2083071,62.0112086 L45.2083071,78.437402 C45.2083071,78.9824209 44.9227505,79.4880634 44.4547331,79.771667 C44.0336589,80.0269102 43.5195298,80.0692679 43.0655235,79.8931585 L42.916625,79.8263563 L32.9551473,74.7213359 L22.7033981,79.8341691 C22.2171504,80.0766775 21.6377078,80.0521454 21.1734623,79.7671355 C20.7518495,79.5083198 20.4801215,79.0689709 20.4342008,78.5840955 L20.4272747,78.437402 L20.4272747,62.0093335 L19.4052744,62.0038646 C17.4163295,61.9960643 15.5535376,60.9787891 14.487228,59.3330416 L14.3581362,59.1240774 L11.4720815,54.2145325 L6.53511116,51.345527 C4.6897004,50.2747955 3.57105766,48.2600713 3.62432559,46.1478755 L3.635698,45.9037762 L3.60756667,40.6498444 L0.76315891,35.6909228 C-0.228306859,33.9538835 -0.252297781,31.827514 0.682886906,30.0745337 L3.60756667,24.9710205 L3.63789822,19.2939491 C3.64559269,17.3161306 4.66888472,15.4641725 6.32457017,14.4039999 L6.53479685,14.2756504 L11.4722386,11.4063324 L14.3578219,6.49741249 C15.4350429,4.66245316 17.4622942,3.55110083 19.5859179,3.60356881 L19.8313305,3.61481274 L25.1153063,3.58684302 L30.1028816,0.758776404 Z M23.5705976,62.0258966 L23.5705976,75.9054394 L32.2605076,71.5716957 C32.6593404,71.3727999 33.1217506,71.3529227 33.5333871,71.511625 L33.6851475,71.5795085 L42.0654558,75.8740321 L42.0654558,62.0277717 L40.8848827,62.0340219 L35.8971503,64.8620885 C35.0000908,65.3681998 33.999464,65.6208648 32.9997802,65.6208648 C32.0712105,65.6208648 31.1432773,65.4030432 30.2989281,64.9683112 L30.0206878,64.8153681 L25.1153063,62.0340219 L23.5705976,62.0258966 Z M34.3903167,3.50137131 C33.6073332,3.04037619 32.6428172,3.00065954 31.8294961,3.38577852 L31.6576485,3.47480789 L26.3147383,6.50428773 C26.1269028,6.61079142 25.919655,6.67729372 25.7059499,6.70035452 L25.5446627,6.70945108 L19.7193553,6.7388271 L19.7193553,6.7388271 L19.6523272,6.73492071 C18.6799427,6.6555062 17.7170247,7.11645641 17.1698782,7.91884729 L17.0722597,8.07324828 L13.9781274,13.3367117 C13.8689967,13.5222181 13.7228521,13.6829237 13.5493494,13.809148 L13.4142435,13.8971998 L8.12115256,16.9732438 C7.35342387,17.4198009 6.85470825,18.2289706 6.78868612,19.1166881 L6.78122104,19.3080121 L6.74868927,25.397129 C6.74768346,25.6120115 6.70191897,25.8237938 6.61509719,26.0193556 L6.54234045,26.1627805 L3.52207257,31.4282752 C3.05826704,32.2069064 3.01844802,33.1657548 3.40580989,33.9745129 L3.49535566,34.1454005 L6.54234045,39.4574594 C6.6493338,39.6442158 6.71629581,39.8503729 6.73952506,40.0628903 L6.74868927,40.2232671 L6.77807787,46.0148542 L6.77807787,46.0148542 L6.77414891,46.0814386 C6.69545884,47.0558841 7.1590029,48.0052768 7.96510071,48.5496158 L8.12020961,48.6468399 L13.413772,51.7231963 C13.6003504,51.8315751 13.7619845,51.9768551 13.8890187,52.1493561 L13.977656,52.2836845 L17.0714739,57.5465228 C17.5204647,58.3096951 18.3343001,58.8053997 19.2272742,58.8711508 L19.419733,58.8786002 L25.5440341,58.9111013 C25.7600325,58.9122263 25.9730134,58.9576529 26.1697806,59.0439409 L26.3141097,59.1162647 L31.6098724,62.1193373 L31.6098724,62.1193373 C32.3931492,62.5804783 33.357411,62.6199324 34.1706969,62.2349048 L34.3425406,62.1459008 L39.6856079,59.1164209 C39.8734435,59.0099172 40.0806912,58.9434149 40.2944768,58.9203541 L40.4558406,58.9112576 L46.2139629,58.8807878 L46.348019,58.8857879 C47.3223512,58.9626949 48.2751356,58.5067465 48.8238455,57.7110685 L48.9280865,57.5474604 L52.0222188,52.283997 C52.1313495,52.0984906 52.2774941,51.937785 52.4509969,51.8114806 L52.5861027,51.7233526 L57.8793508,48.6474649 C58.6469328,48.2009078 59.1455018,47.3917381 59.2116328,46.5040205 L59.2191252,46.3126966 L59.2516569,40.2235796 C59.2526628,40.0086972 59.2984272,39.7969148 59.385249,39.6012731 L59.4580058,39.4577719 L62.4782736,34.1924334 L62.4782736,34.1924334 C62.9420792,33.4139481 62.9818982,32.4551094 62.5947919,31.646352 L62.5053049,31.4754644 L59.4583201,26.1632493 C59.3513267,25.9764928 59.2843647,25.7703357 59.2611355,25.5578183 L59.2519713,25.3974415 L59.2225827,19.6056981 L59.2225827,19.6056981 L59.2265116,19.5391138 C59.3052017,18.5646683 58.8416576,17.615414 58.0355598,17.0710913 L57.8804509,16.9738688 L52.5865742,13.8975123 C52.3999958,13.7890086 52.2383617,13.6437035 52.1113275,13.4711976 L52.0226902,13.3368679 L48.9288723,8.07402955 C48.4798815,7.31085731 47.6660461,6.81515266 46.7731998,6.74940158 L46.5807704,6.74195221 L40.4563121,6.70945108 C40.2403138,6.70832604 40.0273328,6.66289947 39.8305656,6.57661148 L39.6862365,6.50428773 L34.3903167,3.50137131 L34.3903167,3.50137131 Z M40.5311007,27.4832713 C41.1562603,28.127755 41.1562603,29.172569 40.5313376,29.817419 L32.090676,38.5167288 C31.4656348,39.1610904 30.4517195,39.1610904 29.8260862,38.5167288 L25.4689585,34.0254445 C24.8436805,33.3810829 24.8436805,32.3359026 25.4689585,31.6914189 C26.094355,31.046813 27.1081914,31.046813 27.7333115,31.6911747 L30.9587167,35.0156903 L38.2666292,27.4832713 C38.8920257,26.8386654 39.9059411,26.8391538 40.5311007,27.4832713 Z' />
              </g>
            </g>
          </g>
        </g>
      </svg>
    )

    return (
      <PopupInner
        {...this.props}
        headingText={headingText}
        popupName='pricingPopup'
        customButtonProps={customButtonProps}
        onPrimaryButtonClick={this.handlePrimaryButtonClick}
        onClose={this.handleCloseClick}
        buttonText={buttonText}
        badge={badge}
      >
        <p className='vcv-layout-popup-text'>{text}</p>
      </PopupInner>
    )
  }
}
